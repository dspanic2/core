jQuery(document).ready(function(e){e.extend({reloadNewsList:function(r,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);var a=e.getBlogCategoryId(r);o||e.resetBlogCurrentPageNumber();var n=e.getBlogCurrentPageNumber(t),g=1;t||(g=0,e.setUrlParameters({page_number:n})),o||(g=1);var l={};"undefined"!==a&&(l.blog_category=a),l.page_number=n,l.get_all_blog_posts=g,l.page_size=10,e.showAjaxLoader(),e.post("/get_blog_posts",l,function(o){if(e.hideAjaxLoader(),0==o.error){if(g)r.find(".content .blog-grid-content").html(o.grid_html);else{var a=e(window).scrollTop();r.find(".content .blog-grid-content").append(o.grid_html),e(window).scrollTop(a)}e.loadLazyImages(),t&&(r.find(".content .items-pager").html(o.pager_html),e.presetBlogOptionsFromUrl(),e.resetBlogLoadMore(r)),o.has_next_page?e(".news-load-more").show():e(".news-load-more").hide()}else console.log("ERROR")},"json")},presetBlogOptionsFromUrl:function(){var r=e.getUrlParam("page_number");0!==r&&e(".news-load-more").data("current-page",r)},getBlogCategoryId:function(e){var r=null;return e.length&&(r=e.data("category-id")),r},resetBlogCurrentPageNumber:function(){var r=e(".news-load-more");r.length&&r.data("current-page",1)},getBlogCurrentPageNumber:function(r){if(r){var t=e.getUrlParam("page_number");if(0!==t)return t}var o=e(".news-load-more");return o.length?o.data("current-page"):1},resetBlogLoadMore:function(r){var t=r.find(".news-load-more");if(t.length){var o=e.getUrlParam("page_number");0!==o&&t.data("current-page",o),t.on("click",function(){var r=e(this).data("current-page");e(this).data("current-page",parseInt(r)+1),e.reloadNewsList(e(this).closest(".sp-block-outer.blog-grid"),!1,!0)})}}});var r=e(".sp-block-outer.blog-grid.ajax");r.length&&r.each(function(){0==e(this).find(".blog-item").length&&e.reloadNewsList(e(this),!0)})});
