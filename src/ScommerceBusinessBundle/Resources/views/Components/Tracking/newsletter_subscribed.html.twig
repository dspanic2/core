{% if contact is defined %}
    {% apply spaceless %}
        {% set trackingCode %}
            <script>
                window.dataLayer = window.dataLayer || [];
                window.dataLayer.push({
                    'event': 'newsletter',
                    'eventCategory': 'contact',
                    'eventAction': 'sign_up',
                    'eventLabel': '{{ current_entity.getUrl()[current_store_id]|default(current_entity.getUrl) }}'
                });
            </script>
        {% endset %}
        {{ trackingCode|striptags|raw }}
    {% endapply %}
{% endif %}